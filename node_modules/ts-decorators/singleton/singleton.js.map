{"version":3,"file":"singleton.js","sourceRoot":"","sources":["../../src/singleton/singleton.ts"],"names":[],"mappings":"AAAA,MAAM,oBAAoB,MAAW;IACnC,IAAI,QAAa,CAAC;IAClB,sDAAsD;IACtD,mBAAmB,WAAgB,EAAE,IAAS;QAC5C;YACE,WAAW,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAChC,CAAC;QACD,CAAC,CAAC,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC;QACpC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;IACjB,CAAC;IACD,+CAA+C;IAC/C,IAAM,IAAI,GAAG;QAAC,cAAc;aAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;YAAd,yBAAc;;QAC1B,QAAQ,GAAG,QAAQ,IAAI,SAAS,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC/C,MAAM,CAAC,QAAQ,CAAC;IAClB,CAAC,CAAC;IAEF,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IACjD,MAAM,CAAC,IAAI,CAAC;AACd,CAAC","sourcesContent":["export function singleton(target: any): any {\n  let instance: any;\n  // a utility function to generate instances of a class\n  function construct(constructor: any, args: any) {\n    function c() {\n      constructor.apply(this, args);\n    }\n    c.prototype = constructor.prototype;\n    return new c();\n  }\n  // save a reference to the original constructor\n  const ctor = (...args: any[]) => {\n    instance = instance || construct(target, args);\n    return instance;\n  };\n\n  ctor.prototype = Object.create(target.prototype);\n  return ctor;\n}\n"]}